<html>
  <head>
    <meta charset="utf-8" />
    <title>触屏事件</title>
  </head>
  <style>
    .axis path,
    .axis line {
      fill: none;
      stroke: black;
      shape-rendering: crispEdges;
    }

    .axis text {
      font-family: sans-serif;
      font-size: 11px;
    }
  </style>
  <body>
    <script
      src="https://s2.pstatp.com/cdn/expire-1-M/d3/3.5.16/d3.min.js"
      charset="utf-8"
    ></script>
    <script>
      const width = 400;
      const height = 400;
      let svg = d3
        .select("body")
        .append("svg")
        .attr("width", width)
        .attr("height", height);

      let rect = svg
        .append("rect")
        .attr("x", 220)
        .attr("y", 150)
        .attr("width", 100)
        .attr("height", 100)
        .attr("fill", "blue");

      let circle = svg
        .append("circle")
        .attr("cx", 150)
        .attr("cy", 200)
        .attr("r", 50)
        .attr("fill", "blue")
        .on("touchstart", function() {
          d3.select(this).attr("fill", "yellow");
        })
        .on("touchmove", function() {
          //获取第一个触摸点
          let pos = d3.touches(this)[0];
          d3.select(this).attr("cx", pos[0].attr("cy", pos[1]));
        })
        .on("touchend", function() {
          d3.select(this).attr("fill", "blue");
        });
    </script>
  </body>
</html>
